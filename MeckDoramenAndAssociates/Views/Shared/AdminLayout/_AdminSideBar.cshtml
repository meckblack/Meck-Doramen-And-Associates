@using Microsoft.AspNetCore.Http
@using MeckDoramenAndAssociates.Data
@using Newtonsoft.Json
@*@using (var context = new ApplicationDbContext(options.)) { }*@

@{


    ApplicationUser _user = null;
    if (Context.Session.GetString("MDnAloggedinuser") != null)
    {
        _user = JsonConvert.DeserializeObject<ApplicationUser>(Context.Session.GetString("MDnAloggedinuser"));
        var roleid = _user.RoleId;
        
    }
}

<aside class="main-sidebar">
    <!-- sidebar: style can be found in sidebar.less -->
    <section class="sidebar">
        <!-- Sidebar user panel -->
        <div class="user-panel">
            <p style="color:white; text-align: center">  @Context.Session.GetString("MDnAloggedinusername")</p>
        </div>
        <!-- sidebar menu: : style can be found in sidebar.less -->
        <ul class="sidebar-menu" data-widget="tree">
            <li class="header">MAIN NAVIGATION</li>
            <li>
                <a asp-action="Dashboard" asp-controller="Admin">
                    <i class="fa fa-dashboard"></i> <span>DASHBOARD</span>
                </a>
            </li>
            @if (_user != null && (_user.Role.CanManageLandingDetails))
            {
                <li>
                    <a asp-action="Index" asp-controller="Landing">
                        <i class="fa fa-dashboard"></i> <span>LANDING DETAILS</span>
                    </a>
                </li>
            }
            @if (_user != null && _user.Role.CanManageNews == true)
            {
                <li>
                    <a asp-action="Index" asp-controller="News">
                        <i class="fa fa-dashboard"></i> <span>NEWS</span>
                    </a>
                </li>
            }
            @if (_user != null && _user.Role.CanMangeUsers == true)
            {
                <li>
                    <a asp-action="Index" asp-controller="ApplicationUser">
                        <i class="fa fa-dashboard"></i> <span>APPLICATION USER</span>
                    </a>
                </li>
            }
            @if (_user != null && _user.Role.CanManageServices == true)
            {
                <li>
                    <a asp-action="Index" asp-controller="Service">
                        <i class="fa fa-car"></i> <span>SERVICES</span>
                    </a>
                </li>
            }
            @if (_user != null && _user.Role.CanManageMarketResearch == true)
            {
                <li>
                    <a asp-action="Index" asp-controller="MarketResearch">
                        <i class="fa fa-car"></i> <span>MARKET RESEARCH</span>
                    </a>
                </li>
            }
            @if (_user != null && _user.Role.CanManageAboutUs == true)
            {
                <li>
                    <a asp-action="Index" asp-controller="AboutUs">
                        <i class="fa fa-car"></i> <span>ABOUT US</span>
                    </a>
                </li>
            }
            @if (_user != null && _user.Role.CanManageEnquiry == true)
            {
                <li>
                    <a asp-action="Index" asp-controller="Enquiry">
                        <i class="fa fa-dashboard"></i> <span>ENQUIRY</span>
                    </a>
                </li>
            }
        </ul>
    </section>
    <!-- /.sidebar -->
</aside>